<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Javascript scroll animtaion</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <section
      style="
        background-color: #333;
        display: flex;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      <h1>Hi! I am alive</h1>
    </section>

    <section id="sec1">
      <h2>Scroll&nbsp;to&nbsp;see&nbsp;magic</h2>
    </section>
    <section
      style="
        background-color: #333;
        display: flex;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      <h1>Hi! I am alive</h1>
    </section>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <script>
    let text = document.querySelector("h2");
    let textString = text.textContent;
    let split = textString.split("");
    text.textContent = "";
    for (let i = 0; i < split.length; i++) {
      text.innerHTML += `<span>${split[i]}</span>`;
    }

    let tl = gsap.timeline();
    tl.from("span", {
      y: -200,
      opacity: 0,
      scrollTrigger: {
        pin: true,
        scrub: 1,
        trigger: "#sec1",
      },
      stagger: {
        amount: 1,
      },
    }).to("span", {
      y: 100,
      color: red,
      scrollTrigger: {
        pin: true,
        scrub: 1,
        trigger: "#sec1",
      },
    });
  </script>
</html>
